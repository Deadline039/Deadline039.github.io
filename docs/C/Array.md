# 数组

> C大师 115-126
>
> [The GNU C Reference Manual | 2.5 Arrays](https://www.gnu.org/software/gnu-c-manual/gnu-c-manual.html#Arrays)

数组，就是同一种类数据的集合。假如现在我需要一个程序来记录全班人的身高，然后求平均值，不可能说我一个人定义一个变量，然后求平均值，就像下面这样：

```

float 学生 1 的身高
float 学生 2 的身高
float 学生 3 的身高
...
float 学生 100 的身高

float 平均值 = (学生 1 的身高 + 学生 2 的身高 + ... + 学生 100 的身高) / 100

```

这显然很蠢，如果要统计1000个人，10000个人，这样写是不可能的。那么我们就可以用一个数组来存储每个学生的身高，如果要添加，只需要增加数组的大小就可以了：

```
float 学生身高[学生数量]

总身高 = 0;

for (int i = 0; i < 学生数量; ++i) {
    总身高 += 学生身高[i];
}

float 平均值 = 总身高 / 学生数量
```

这是不是比第一种方法好多了？数组就是用来解决这个问题的。

## 数组的声明与使用

声明一个数组非常简单，我们只需要：

``` C
int array[10];
```

这就声明了一个长度为10，类型为`int`，名称为`array`的数组。那么也就是说，我有10个`int`类型变量可以使用。

在标准C中，数组长度必须是大于0的正数。既然都提到标准C了，肯定还有GNU的扩展，GNU允许我们定义长度为0的数组，参照：[零长数组](/C/GNUArray#零长数组)。

定义数组长度必须使用常量或者常量表达式，但是GNU允许我们使用变量来定义数组长度，参照：[变长数组](/C/GNUArray#变长数组)。

使用数组也非常简单，数组名[下标]的形式就可以访问，这里注意数组下标是从0开始的，至于为什么是从0开始，这与下面所讲的数组的存储有关，这里的下标实质上就是相较于首地址的偏移量。

## 数组的存储

从内存上看，定义一个数组，其实就是从内存中划分了一片**连续**的区域给我们使用，注意这里的连续。

